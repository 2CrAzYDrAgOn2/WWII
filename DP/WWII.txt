CREATE DATABASE WWII;
USE WWII;

-- Таблица для хранения информации о военных единицах
CREATE TABLE MilitaryUnits (
    MilitaryUnitID INT PRIMARY KEY AUTO_INCREMENT,
    UnitName VARCHAR(255) NOT NULL,
    Description VARCHAR(500)
);

-- Таблица для хранения информации о событиях войны
CREATE TABLE WarEvents (
    WarEventID INT PRIMARY KEY AUTO_INCREMENT,
    EventName VARCHAR(255) NOT NULL,
    EventDate DATE,
    EventLocation VARCHAR(255),
    Description VARCHAR(500)
);

-- Таблица для хранения информации о ветеранах
CREATE TABLE Veterans (
    VeteranID INT PRIMARY KEY AUTO_INCREMENT,
    FullName VARCHAR(255) NOT NULL,
    BirthDate DATE,
    DeathDate DATE,
    MilitaryRank VARCHAR(100),
    UnitID INT,
    FOREIGN KEY (UnitID) REFERENCES MilitaryUnits(MilitaryUnitID)
);

-- Таблица для хранения информации о медалях и наградах
CREATE TABLE Medals (
    MedalID INT PRIMARY KEY AUTO_INCREMENT,
    MedalName VARCHAR(255) NOT NULL,
    Description VARCHAR(500)
);

-- Таблица для связи ветеранов и наград
CREATE TABLE VeteranMedals (
    VeteranMedalID INT PRIMARY KEY AUTO_INCREMENT,
    VeteranID INT,
    MedalID INT,
    AwardDate DATE,
    FOREIGN KEY (VeteranID) REFERENCES Veterans(VeteranID),
    FOREIGN KEY (MedalID) REFERENCES Medals(MedalID)
);

-- Таблица для хранения информации о военной технике
CREATE TABLE MilitaryEquipment (
    MilitaryEquipmentID INT PRIMARY KEY AUTO_INCREMENT,
    EquipmentName VARCHAR(255) NOT NULL,
    EquipmentType VARCHAR(100),
    Description VARCHAR(800)
);

-- Таблица для хранения информации о военных маршрутах
CREATE TABLE MilitaryRoutes (
    MilitaryRouteID INT PRIMARY KEY AUTO_INCREMENT,
    RouteName VARCHAR(255) NOT NULL,
    StartLocation VARCHAR(255),
    EndLocation VARCHAR(255),
    Description VARCHAR(500)
);

-- Таблица для связи между событиями и техникой
CREATE TABLE EventEquipment (
    EventEquipmentID INT PRIMARY KEY AUTO_INCREMENT,
    EventID INT,
    EquipmentID INT,
    FOREIGN KEY (EventID) REFERENCES WarEvents(WarEventID),
    FOREIGN KEY (EquipmentID) REFERENCES MilitaryEquipment(MilitaryEquipmentID)
);

CREATE TABLE Registration (
    RegistrationID INT PRIMARY KEY AUTO_INCREMENT,
    UserLogin VARCHAR(50) NOT NULL,
    UserPassword VARCHAR(50) NOT NULL,
    IsAdmin TINYINT(1) DEFAULT 0
);

INSERT INTO MilitaryEquipment (EquipmentName, EquipmentType, Description) VALUES
('Трёхлинейное ружье-пулемёт „Мадсен“', 'Пулемёт', 'Датский ручной пулемёт, использовавшийся в РККА в начале войны'),
('Автомат Фёдоров', 'Автомат', 'Один из первых в мире автоматов, разработанный В.Г. Фёдоровым'),
('7,62-мм ручной пулемёт (ДП)', 'Пулемёт', 'Дегтярёва пехотный - советский ручной пулемёт'),
('Танковый пулемёт (ДТ)', 'Пулемёт', 'Дегтярёва танковый - модификация ДП для бронетехники'),
('12,7-мм крупнокалиберный пулемёт (ДК)', 'Пулемёт', 'Дегтярёва крупнокалиберный - советский крупнокалиберный пулемёт'),
('7,62-мм пистолет-пулемёт Дегтярёва (ППД)', 'Пистолет-пулемёт', 'Ранний советский пистолет-пулемёт'),
('12,7-мм крупнокалиберный пулемёт системы Шпитального и Владимирова (ШВАК)', 'Пулемёт', 'Авиационный пулемёт, позднее адаптированный для наземного использования'),
('7,62-мм пистолет-пулемёт Шпагина (ППШ)', 'Пистолет-пулемёт', 'Легендарный советский пистолет-пулемёт времён ВОВ'),
('ПТРД', 'Противотанковое ружьё', 'Противотанковое ружьё Дегтярёва - советское ПТР времён ВОВ'),
('7,62-мм станковый пулемёт П. М. Горюнова (СГ-43)', 'Пулемёт', 'Советский станковый пулемёт, принятый на вооружение в 1943 году'),
('Крупнокалиберный пулемёт системы С. В. Владимирова (КПВ-44) и ручной пулемёт Дегтярёва (РПД)', 'Пулемёт', 'Мощный крупнокалиберный пулемёт и послевоенный ручной пулемёт'),
('Мотоцикл К-125', 'Транспорт', 'Советский мотоцикл военного времени'),
('ИС', 'Танк', 'Разработан в 1943 году, положив начало целой серии тяжёлых танков. Первые версии машины вооружались 85-мм орудием Д5Т. Танк по сути являлся глубокой модернизацией платформы танков КВ-1 и КВ-1с, при этом переработке подверглись практически все узлы и агрегаты. Всего было выпущено 107 машин этого типа. Боевое применение выявило ряд проблем с надёжностью, а также относительную недостаточность огневой мощи и бронирования. Всё это было учтено при разработке и производстве более удачного и совершенного танка ИС-2.'),
('ИС-2', 'Танк', 'Танк принят на вооружение Красной армии 31.10.1943. Эскизный проект установки 122-мм танковой пушки в башню танка ИС был готов летом 1943 г., а в декабре того же года с конвейеров сошли первые 35 ИС-2. Подавляющее большинство машин поступало на вооружение гвардейских тяжёлых полков прорыва, а в общей сложности новым танком были оснащены 25 частей Красной армии. ИС-2 довольно часто встречались в бою с немецкими тяжёлыми танками «Тигр», причём, как правило, с плачевным итогом для противника. Вне зависимости от участка фронта и местности, ИС-2 действовали на острие событий. Начиная с весны 1944 года, трудно найти документы хотя бы об одном крупном сражении, в котором не гремели залпы их 122-мм пушек Д-25Т.'),
('ИС-3', 'Танк', '7 сентября 1945 г. в Берлине у Бранденбургских ворот состоялся парад Победы союзников по Антигитлеровской коалиции во Второй Мировой войне. Проход военной техники на этом параде завершила колонна советских тяжёлых танков ИС-3. Всего в параде принимало участие 60 этих машин, при этом по площади из них прошло 52 машины, остальные 8 танков являлись резервными. Для проведения парада был сформирован сводный танковый полк, состоявший из танков следующих подразделений: 67-го, 71-го и 72-го гвардейских тяжёлых танковых полков. На головном тонкие колонны ИС-3 развевалось знамя 67-й отдельной гвардейской тяжёлой танковой Краснознамённой бригады. На параде в Берлине новейшие советские танки ИС-3 были впервые продемонстрированы публично и произвели впечатление на представителей командования союзников'),
('Т-26', 'Танк', 'Лёгкий танк Т-26 был создан в начале 1930-х годов на базе английского танка Vickers Mk.E. Так предназначался для непосредственной поддержки пехоты. Выпускался в нескольких модификациях с 1931 по 1941 год. Также на его базе был создан ряд специальных машин и самоходных артиллерийских установок, которые не получили широкого применения. Всего с 1931 по 1941 год было выпущено 9686 танков различных модификаций и комплектаций.'),
('Т-34-85', 'Танк', 'Танк принят на вооружение Красной армии 15.12.1943. Всего с начала производства в январе 1944 по сентябрь 1945 года включительно было изготовлено 20964 машины с двумя типами орудий (Т-Д-5 и ЗИС-С-53). Производство было развёрнуто на трех заводах: № 183 в Тагиле, № 174 в Омске и № 112 в Горьком. Этот танк использовался на заключительном этапе Великой Отечественной войны, отменно показывая себя. Например, командуя экипажем именно Т-34-85, советский танковый ас Александр Оськин 12 августа 1944 г. под Оглендувом (Польша) огнём из засады сжёг три новейших немецких тяжёлых танка «Королевский тигр». Также этот танк принимал участие в войне с Японией и разгром Квантунской армии. Т-34-85 заслуженно считается одним из символов Победы.'),
('КВ-1', 'Танк', 'Несмотря на относительно небольшое количество машин, принимавших участие в Сталинградской битве при грамотном применении танк КВ-1 хорошо показал себя в оборонительных боях под Калачом и Абганерово, а также в городских боях в Сталинграде. В сражениях на подступах к городу танки КВ-1 в основном использовались совместно с истребительно- противотанковыми артиллерийскими частями и пехотой для контратак противника. А в городских боях в Сталинграде - небольшими подразделениями совместно с пехотой в составе штурмовых групп и при обороне важных опорных пунктов.'),
('КВ-2', 'Танк', 'Тяжёлый танк с гаубичным вооружением'),
('ИСУ-152', 'Самоходная артиллерийская установка', 'Машина принята на вооружение Красной армии 06.11.1943. ИСУ-152 стала самой массовой тяжёлой самоходкой в истории бронетехники: с 1943 по 1947 г. было построено 2815 единиц. Эта машина успешно выполняла задачи огневой поддержки наступающих танков и пехоты: огонь пушки ИСУ-152 был эффективен и против укреплений противника, включая ДОТы. Эта машина оказывалась незаменимой в городских боях, будь то штурм города-крепости Кенигсберга или Берлина. Уничтожить тяжёлый танк, простреливающий перекрёсток, снести здание, где засели немцы - В Берлине такая работа для экипажей ИСУ-152 была обычным делом вплоть до победного окончания Великой Отечественной войны.'),
('СУ-76', 'Самоходная артиллерийская установка', 'Лёгкая самоходная артиллерийская установка, изготовленная на базе танков Т-60 и Т70. Была разработана в конструкторском бюро №38 в Кирове летом 1942 года. Самая массовая самоходка СССР, участвовавшая в Великой Отечественной - всего было выпущено более 14 000 единиц. Использовалась для непосредственной поддержки пехоты и кавалерии. На завершающем этапе войны часть машин использовались для эвакуации раненых, а также в роли передовых машин артиллерийских наблюдателей.'),
('БТ-5', 'Танк', 'Советский лёгкий колёсно-гусеничный танк'),
('БТ-7', 'Танк', 'Колёсно-гусеничный танк периода 1930-1940-х годов. Третий танк семейства советских лёгких танков БТ. В отличие от своих предшественников (БТ-2 и БТ-5), имел сварной корпус несколько изменённой формы и новый двигатель. Всего было произведено 5556 машин различных модификаций, принимавших участие в боях на Халхин-Голе, польской кампании, финской и Второй мировой войнах.'),
('Катюша', 'Реактивная артиллерия', 'БМ-13 - советская реактивная система залпового огня'),
('Ла-7', 'Самолёт', 'Советский истребитель конструкции Лавочкина'),
('Ил-2', 'Самолёт', 'Штурмовик, "летающий танк"'),
('И-16', 'Самолёт', 'Советский истребитель 1930-х годов'),
('Як-9', 'Самолёт', 'Советский истребитель конструкции Яковлева');

INSERT INTO MilitaryUnits (UnitName, Description) VALUES
('1-я гвардейская танковая армия', 'Элитное танковое соединение РККА'),
('62-я армия', 'Прославилась в Сталинградской битве'),
('316-я стрелковая дивизия', 'Дивизия генерала Панфилова'),
('5-я гвардейская танковая армия', 'Участвовала в Курской битве'),
('1-й истребительный авиационный корпус', 'Авиационное соединение ПВО');

INSERT INTO WarEvents (EventName, EventDate, EventLocation, Description) VALUES
('Битва за Москву', '1941-09-30', 'Москва, СССР', 'Первое крупное поражение вермахта'),
('Сталинградская битва', '1942-08-23', 'Сталинград, СССР', 'Коренной перелом в войне'),
('Курская битва', '1943-07-05', 'Курск, СССР', 'Крупнейшее танковое сражение'),
('Операция "Багратион"', '1944-06-23', 'Белоруссия', 'Освобождение Белоруссии'),
('Берлинская операция', '1945-04-16', 'Берлин, Германия', 'Завершающая операция ВОВ');

INSERT INTO Medals (MedalName, Description) VALUES
('Герой Советского Союза', 'Высшая степень отличия СССР'),
('Орден Ленина', 'Один из высших орденов СССР'),
('Орден Красного Знамени', 'За особую храбрость и мужество'),
('Орден Отечественной войны', 'За подвиги в ВОВ'),
('Медаль "За отвагу"', 'За личное мужество в бою');

INSERT INTO Veterans (FullName, BirthDate, DeathDate, MilitaryRank, UnitID) VALUES
('Иван Никитович Кожедуб', '1920-06-08', '1991-08-08', 'Маршал авиации', 5),
('Дмитрий Фёдорович Лавриненко', '1914-10-14', '1941-12-18', 'Старший лейтенант', 1),
('Василий Георгиевич Клочков', '1911-03-08', '1941-11-16', 'Политрук', 3),
('Александр Матвеевич Матросов', '1924-02-05', '1943-02-27', 'Рядовой', NULL),
('Лидия Владимировна Литвяк', '1921-08-18', '1943-08-01', 'Старший лейтенант', 5);

INSERT INTO VeteranMedals (VeteranID, MedalID, AwardDate) VALUES
(1, 1, '1944-08-19'),
(1, 2, '1945-02-22'),
(2, 1, '1941-12-31'),
(3, 1, '1942-07-21'),
(4, 1, '1943-06-19'),
(5, 1, '1943-05-15');

INSERT INTO EventEquipment (EventID, EquipmentID) VALUES
(1, 16), -- Т-34 в битве за Москву
(1, 17), -- КВ-1 в битве за Москву
(2, 16), -- Т-34 в Сталинградской битве
(2, 24), -- Катюша в Сталинградской битве
(3, 13), -- ИС-1 в Курской битве
(3, 14), -- ИС-2 в Курской битве
(3, 16), -- Т-34 в Курской битве
(4, 14), -- ИС-2 в операции "Багратион"
(5, 14), -- ИС-2 в Берлинской операции
(5, 20); -- ИСУ-152 в Берлинской операции

INSERT INTO MilitaryRoutes (RouteName, StartLocation, EndLocation, Description) VALUES
('Дорога жизни', 'Ленинград', 'Кобона', 'Ледовая трасса через Ладожское озеро для снабжения блокадного Ленинграда (1941-1943)'),
('Эвакуация промышленности на Урал', 'Москва', 'Свердловск', 'Переброска заводов и предприятий на восток в 1941-1942 гг.'),
('Коридор у Дубосеково', 'Дубосеково', 'Волоколамск', 'Оборона 28 панфиловцев (ноябрь 1941)'),
('Маршрут "Белорусский вал"', 'Минск', 'Брест', 'Линия обороны советских войск в июне 1941 года'),
('Наступление под Сталинградом', 'Калач-на-Дону', 'Сталинград', 'Путь наступления 6-й армии Паулюса (лето 1942)'),
('Контрнаступление под Сталинградом', 'Сталинград', 'Котельниково', 'Путь удара советских войск (операция "Уран", ноябрь 1942)'),
('Курская дуга - северный фас', 'Орел', 'Курск', 'Направление удара группы армий "Центр" (июль 1943)'),
('Курская дуга - южный фас', 'Белгород', 'Прохоровка', 'Направление удара группы армий "Юг" (июль 1943)'),
('Операция "Багратион"', 'Витебск', 'Минск', 'Основное направление удара при освобождении Белоруссии (июнь-июль 1944)'),
('Висло-Одерская операция', 'Сандомир', 'Кюстрин', 'Путь наступления 1-го Украинского фронта (январь 1945)'),
('Штурм Берлина', 'Кюстрин', 'Берлин', 'Финальный маршрут наступления советских войск (апрель 1945)'),
('Дальневосточный маршрут', 'Чита', 'Харбин', 'Переброска войск для войны с Японией (лето 1945)'),
('Воздушная трасса Аляска-Сибирь', 'Фэрбенкс', 'Красноярск', 'Маршрут перегона американских самолётов по ленд-лизу (1942-1945)'),
('Эвакуация Одессы', 'Одесса', 'Севастополь', 'Маршрут эвакуации Приморской армии (октябрь 1941)'),
('Оборона Севастополя', 'Севастополь', 'Балаклава', 'Линии обороны города (1941-1942)'),
('Прорыв блокады Ленинграда', 'Шлиссельбург', 'Ленинград', 'Операция "Искра" (январь 1943)'),
('Наступление на Харьков', 'Белгород', 'Харьков', 'Освобождение Харькова (август 1943)'),
('Ясско-Кишинёвская операция', 'Яссы', 'Кишинёв', 'Маршрут удара 2-го Украинского фронта (август 1944)'),
('Балтийская операция', 'Псков', 'Таллин', 'Освобождение Прибалтики (сентябрь-ноябрь 1944)'),
('Пражская операция', 'Дрезден', 'Прага', 'Финальное наступление советских войск (май 1945)');

INSERT INTO Registration (UserLogin, UserPassword, IsAdmin) VALUES
('admin', 'admin', 1),
('user', 'user', 0);